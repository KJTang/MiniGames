# RoguelikeDemo

#### 游戏简介：  
这是一个简单的Roguelike游戏，玩家需要在一个随机生成的地牢中不断深入，寻找财宝、打败怪物，最后走上人生巅峰（雾）。  
注：此游戏Demo只是学习使用Unity3D的练手作，问题很多，仅用于自己学习。

#### 如何运行：  
此Demo为Unity3D项目，使用Unity打开即可。

#### 操作说明：  
WASD控制人物移动，鼠标左键攻击。  
每一层地图都会随机生成多个房间，每个房间中会随机出现以下物体：  
* 金币：玩家进入地牢的目的，拾取地图上的金币图标会随机获得一定数量的金币  
* 医疗包：用于回复玩家血量，每个医疗包能够回复30点血量，血量上限100  
* 史莱姆：玩家靠的太近时会开始追逐并攻击玩家，玩家如果击败史莱姆也会获得少量金币，玩家受到攻击会掉血，血量为0则游戏失败  
* 传送门：玩家走过传送门会被传送到同一个地图中的下一个房间  
* 楼梯：通往下一层地牢的入口  

#### 代码说明：
游戏的载入由GameKernel来管理，在GameKernel中包含了游戏所需的各个子系统，例如LevelManager（用于管理关卡）、FileManager（管理存储档）、ResourceManager（用于加载资源）等等。  
GameKernel中设定的初始关卡为StartLevel，游戏运行时会通过GameKernel中的LevelManager来加载运行StartLevel，之后的关卡切换等也都是交由LevelManager来处理。  
StartLevel中只有两个按键，一个是Start，一个是Quit；点击Start则开始游戏。此时关卡会切换到AutoGenLevel，即“自动生成的关卡”。在AutoGenLevel中，会由一个MapGenerator来自动创建游戏地图、怪物、道具等物体。在游戏中如果玩家进入下一层地牢，则生成一个新的AutoGenLevel并切换过去，如果玩家死亡，则会退回到StartLevel。  
游戏中角色的动画和状态由各自的状态机控制，例如怪物有巡逻、追击、攻击、受伤、死亡等状态；同时角色还具有各自的动作队列，动作包括旋转、移动等操作。

#### 总结：
虽然游戏的基本功能完成了，但是欠缺的东西还有很多，比如在游戏设计方面，目前怪物只有一种（史莱姆），玩家的攻击方式也只有一种，以及操作上还存在一些不顺畅之处；在程序方面，地图的随机生成做的并不好，时间关系也还没去研究更好的生成随机地图的方式，并且各个GameSystem写的也很凌乱。  
学习才刚刚开始，任重道远。
